<!DOCTYPE html>
<html>
<head>
  <title>Crypto</title>
  <style>
    #usdtInput {
      width: 50px;
    }
    body{
      background-color: white;
    }
  </style>
</head>
<body>
  <h1>Crypto Trader</h1>

  <div>
    <label for="symbolSelect">Symbol:</label>
    <select id="symbolSelect">
      <option value="BTCUSDT">BTC</option>
      <option value="ETHUSDT">ETH</option>
    </select>
    <label for="leverageSelect">Leverage:</label>
    <select id="leverageSelect">
      <option value="1">1x</option>
      <option value="2">2x</option>
      <option value="3">3x</option>
      <option value="4">4x</option>
      <option value="5">5x</option>
    </select>
    <label for="usdtInput">USDT Amount:</label>
    <input type="text" id="usdtInput">
    <button type="button" onclick="sendTrade()">Trade</button>
  </div>

  <h2>SL setting</h2>

  <div>
    <label for="symbolSelect">Symbol:</label>
    <select id="symbolSelect">
      <option value="BTCUSDT">BTC</option>
      <option value="ETHUSDT">ETH</option>
    </select>
    <label for="usdtInput">Desired loss per usdt:</label>
    <input type="text" id="usdtInput">
    <button type="button" onclick="sendSl()">Add</button>
  </div>

  <h2>TP setting</h2>

  <div>
    <label for="symbolSelect">Symbol:</label>
    <select id="symbolSelect">
      <option value="BTCUSDT">BTC</option>
      <option value="ETHUSDT">ETH</option>
    </select>
    <label for="usdtInput">Desired loss per usdt:</label>
    <input type="text" id="usdtInput">
    <button type="button" onclick="sendTp()">Add</button>
  </div>

  <script>
    function sendTrade() {
      const symbolSelect = document.getElementById('symbolSelect');
      const leverageSelect = document.getElementById('leverageSelect');
      const usdtInput = document.getElementById('usdtInput');

      const symbol = symbolSelect.value;
      const leverage = leverageSelect.value;
      const usdtAmount = usdtInput.value;

      const serverUrl = 'https://nominally-amused-calf.ngrok-free.app/bot-command';
      const payload = {
        command: '/trade',
        symbol: symbol,
        leverage: leverage,
        usdtAmount: usdtAmount
      };

      fetch(serverUrl, {
          method: 'POST',
          headers: {
              'Content-Type': 'application/json',
          },
          body: JSON.stringify(payload),
      })
      .then(response => response.json())
      .then(data => {
          console.log('Server Response:', data);
      })
      .catch(error => {
          console.error('Error:', error);
      });

      usdtInput.value = '';
    }
    
    function sendSl() {
      const symbolSelect = document.getElementById('symbolSelect');
      const usdtInput = document.getElementById('usdtInput');

      const sl_symbol = symbolSelect.value;
      const desired_loss = usdtInput.value;

      const serverUrl = 'https://nominally-amused-calf.ngrok-free.app/bot-command';
      const payload = {
        command: '/sl',
        symbol: symbol,
        usdtAmount: usdtAmount
      };

      fetch(serverUrl, {
          method: 'POST',
          headers: {
              'Content-Type': 'application/json',
          },
          body: JSON.stringify(payload),
      })
      .then(response => response.json())
      .then(data => {
          console.log('Server Response:', data);
      })
      .catch(error => {
          console.error('Error:', error);
      });

      usdtInput.value = '';
    }
    
    function sendTp() {
      const symbolSelect = document.getElementById('symbolSelect');
      const usdtInput = document.getElementById('usdtInput');

      const tp_symbol = symbolSelect.value;
      const desired_profit = usdtInput.value;

      const serverUrl = 'https://nominally-amused-calf.ngrok-free.app/bot-command';
        command: '/tp',
        symbol: symbol,
        usdtAmount: usdtAmount
      };

      fetch(serverUrl, {
          method: 'POST',
          headers: {
              'Content-Type': 'application/json',
          },
          body: JSON.stringify(payload),
      })
      .then(response => response.json())
      .then(data => {
          console.log('Server Response:', data);
      })
      .catch(error => {
          console.error('Error:', error);
      });

      usdtInput.value = '';
    }
  </script>
</body>
</html>
